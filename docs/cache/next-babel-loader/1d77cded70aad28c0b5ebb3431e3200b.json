{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport App from 'next/app';\nimport Layout from 'layout';\nimport AppHead from 'head';\nimport PropTypes from 'prop-types';\nimport { confJSON } from '../config';\nimport { Router } from 'next/router';\nimport 'global.scss'; // console.log('confJSON: ', confJSON);\n\nvar NextApp =\n/*#__PURE__*/\nfunction (_App) {\n  _inherits(NextApp, _App);\n\n  // Only uncomment this method if you have blocking data requirements for\n  // every single page in your application. This disables the ability to\n  // perform automatic static optimization, causing every page in your app to\n  // be server-side rendered.\n  //\n  // static async getInitialProps(appContext) {\n  // calls page's `getInitialProps` and fills `appProps.pageProps`\n  // \tconst appProps = await App.getInitialProps(appContext);\n  // console.log('_app appProps: ', appProps);\n  // \treturn { ...appProps }\n  // }\n  function NextApp(props) {\n    _classCallCheck(this, NextApp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NextApp).call(this, props)); // console.log('_app props: ', props);\n    // console.log('AppHead: ', <AppHead/>);\n  } // WHEN COMPONENT HAS MOUNTED\n\n\n  _createClass(NextApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.showAppMount && console.log('APP DID MOUNT');\n      this.displayBodyText();\n      this.getScripts(); // this.getTitle();\n    } // WHEN COMPONENT UPDATES\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.props.showAppUpdate && console.log('APP DID UPDATE'); // this.getTitle()\n    }\n  }, {\n    key: \"componentDidCatch\",\n    value: function componentDidCatch() {\n      console.log('this.props.err: ', this.props.err);\n    } // DEV TOOL\n\n  }, {\n    key: \"displayBodyText\",\n    value: function displayBodyText() {\n      if (this.props.config.app_config.displayBodyText) {\n        var divEl = document.createElement('div');\n        divEl.innerHTML = \"<h1 style=\\\"position: absolute; top: 50%\\\">Body</h1>\";\n        document.body.prepend(divEl);\n      }\n    }\n  }, {\n    key: \"getScripts\",\n    value: function getScripts() {\n      // console.log(confJSON.app_config.scripts);\n      confJSON.app_config.scripts.forEach(function (script) {\n        return require('scripts/' + script);\n      });\n    } // Get the app title from the route and the links in the config file\n\n  }, {\n    key: \"getTitles\",\n    value: function getTitles() {\n      var links = this.props.config.layout_config.nav.links,\n          route = this.props.router.route,\n          _links$filter$ = links.filter(function (link) {\n        return link.href === route;\n      })[0],\n          title = _links$filter$.title,\n          subTitle = _links$filter$.subTitle,\n          subTitleText = _links$filter$.subTitleText,\n          sTitle = subTitle ? subTitleText : null;\n      return {\n        title: title,\n        subTitle: sTitle\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log('APP PROPS',this.props);\n      var _this$props = this.props,\n          Component = _this$props.Component,\n          pageProps = _this$props.pageProps,\n          config = _this$props.config;\n      var appConf = config.app_config,\n          layoutConf = config.layout_config;\n      pageProps.conf = config;\n\n      var AppComponents = function AppComponents() {\n        return __jsx(React.Fragment, null, __jsx(AppHead, appConf), __jsx(Layout, _extends({}, layoutConf, appConf), __jsx(Component, pageProps)));\n      };\n\n      try {\n        appConf.titles = this.getTitles();\n        appConf.error = {\n          message: null,\n          stack: null\n        };\n        return __jsx(AppComponents, null);\n      } catch (err) {\n        appConf.titles = {\n          title: \"ERROR\",\n          subTitle: null\n        };\n        appConf.error = {\n          message: err.message,\n          stack: err.stack\n        };\n        return __jsx(AppComponents, null);\n      }\n    }\n  }]);\n\n  return NextApp;\n}(App); // Define prop types\n\n\nNextApp.propTypes = {\n  config: PropTypes.object,\n  router: PropTypes.object,\n  showAppMount: PropTypes.bool,\n  showAppUpdate: PropTypes.bool\n}; // Define default props\n\nNextApp.defaultProps = {\n  config: confJSON,\n  router: Router,\n  showAppMount: confJSON['dev-config'].display_App_component_mount,\n  showAppUpdate: confJSON['dev-config'].display_App_component_update\n};\nexport default NextApp;","map":{"version":3,"sources":["/Users/cliff/git/next-app-pre-configured-starter/src/pages/_app.js"],"names":["React","App","Layout","AppHead","PropTypes","confJSON","Router","NextApp","props","showAppMount","console","log","displayBodyText","getScripts","showAppUpdate","err","config","app_config","divEl","document","createElement","innerHTML","body","prepend","scripts","forEach","script","require","links","layout_config","nav","route","router","filter","link","href","title","subTitle","subTitleText","sTitle","Component","pageProps","appConf","layoutConf","conf","AppComponents","titles","getTitles","error","message","stack","propTypes","object","bool","defaultProps","display_App_component_mount","display_App_component_update"],"mappings":"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","sourcesContent":["import React from 'react';\nimport App from 'next/app';\nimport Layout from 'layout';\nimport AppHead from 'head';\nimport PropTypes from 'prop-types'\nimport { confJSON } from '../config';\nimport { Router } from 'next/router';\nimport 'global.scss'\n// console.log('confJSON: ', confJSON);\n\nclass NextApp extends App {\n\t// Only uncomment this method if you have blocking data requirements for\n\t// every single page in your application. This disables the ability to\n\t// perform automatic static optimization, causing every page in your app to\n\t// be server-side rendered.\n\t//\n\t// static async getInitialProps(appContext) {\n\t// calls page's `getInitialProps` and fills `appProps.pageProps`\n\t// \tconst appProps = await App.getInitialProps(appContext);\n\t// console.log('_app appProps: ', appProps);\n\t// \treturn { ...appProps }\n\t// }\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\t// console.log('_app props: ', props);\n\t\t// console.log('AppHead: ', <AppHead/>);\n\t}\n\n\t// WHEN COMPONENT HAS MOUNTED\n\tcomponentDidMount() {\n\t\tthis.props.showAppMount && console.log('APP DID MOUNT');\n\t\tthis.displayBodyText();\n\t\tthis.getScripts();\n\t\t// this.getTitle();\n\t}\n\n\t// WHEN COMPONENT UPDATES\n\tcomponentDidUpdate() {\n\t\tthis.props.showAppUpdate && console.log('APP DID UPDATE');\n\t\t// this.getTitle()\n\t}\n\n\tcomponentDidCatch() {\n\t\tconsole.log('this.props.err: ', this.props.err);\n\t}\n\n\t// DEV TOOL\n\tdisplayBodyText() {\n\t\tif (this.props.config.app_config.displayBodyText) {\n\t\t\tconst divEl = document.createElement('div')\n\t\t\tdivEl.innerHTML = `<h1 style=\"position: absolute; top: 50%\">Body</h1>`;\n\t\t\tdocument.body.prepend(divEl);\n\t\t}\n\t}\n\n\tgetScripts(){\n\t\t// console.log(confJSON.app_config.scripts);\n\t\tconfJSON.app_config.scripts.forEach(script=>require('scripts/'+script));\n\t}\n\n\t// Get the app title from the route and the links in the config file\n\tgetTitles() {\n\t\tconst\n\t\t\tlinks = this.props.config.layout_config.nav.links,\n\t\t\troute = this.props.router.route,\n\t\t\t{ title, subTitle, subTitleText } = links.filter(link => link.href === route)[0],\n\t\t\tsTitle = subTitle ? subTitleText : null\n\t\treturn { title, subTitle: sTitle }\n\t}\n\n\trender() {\n\n\t\t// console.log('APP PROPS',this.props);\n\t\tlet { Component, pageProps, config } = this.props;\n\t\tconst\n\t\t\tappConf = config.app_config,\n\t\t\tlayoutConf = config.layout_config;\n\t\tpageProps.conf = config;\n\t\tconst AppComponents = () => (\n\t\t\t<React.Fragment>\n\t\t\t\t<AppHead {...appConf} />\n\t\t\t\t<Layout {...layoutConf} {...appConf}>\n\t\t\t\t\t<Component {...pageProps} />\n\t\t\t\t</Layout>\n\t\t\t</React.Fragment>\n\t\t)\n\n\t\ttry {\n\t\t\tappConf.titles = this.getTitles();\n\t\t\tappConf.error = { message: null, stack: null };\n\t\t\treturn <AppComponents />\n\t\t} catch (err) {\n\t\t\tappConf.titles = { title:  \"ERROR\", subTitle: null };\n\t\t\tappConf.error = { message: err.message, stack: err.stack };\n\t\t\treturn <AppComponents />\n\t\t}\n\t}\n}\n// Define prop types\nNextApp.propTypes = {\n\tconfig: PropTypes.object,\n\trouter: PropTypes.object,\n\tshowAppMount: PropTypes.bool,\n\tshowAppUpdate: PropTypes.bool\n}\n// Define default props\nNextApp.defaultProps = {\n\tconfig: confJSON,\n\trouter: Router,\n\tshowAppMount: confJSON['dev-config'].display_App_component_mount,\n\tshowAppUpdate: confJSON['dev-config'].display_App_component_update,\n}\n\nexport default NextApp\n\n"]},"metadata":{},"sourceType":"module"}